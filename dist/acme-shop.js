//
// This file is automatically generated.
//
// (!!!) DO NOT MODIFY DIRECTLY! (!!!)
//

definition.setTargets(["testapp.loadtest.party"]);

definition.setArrivalPhases([
  // === debug
  //{ duration: 10 * 60, rate: 4.0, max_clients: 20 },

  // === testing
  { duration: 15 * 60, rate: 48000 / 60 / 60 }
]);

definition.setTestOptions({
  cluster: { region: "eu-central-1", sizing: "large", },
});

definition.setSessionWeights({
  "demo": 1,
});

// SETUP END

definition.session("debug", function(session) {
  session.defaults.setGzip(true);

  session.get("/debugging");
});

definition.session("demo", function(session) {
  session.defaults.setGzip(true);
  session.defaults.setHeader("User-Agent", "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_13_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/69.0.3497.100 Safari/537.36");

  session.get("/demo");
});

// ==================================================================
// == COMPONENTS
// ==================================================================

/*
  A component could be a set of steps of
  a business process like performing a login.

  Example:

  function doLogin(context) {
    var users = context.ds.loadStructured("shop/users.csv");

    // ...

    var user = context.ds.pickFrom(users);

    context.post("https://api.shop.example.com/login", {
      payload: {
        email: user.get("email"),
        password: user.get("password"),
      }
    });
  }

*/

// ==================================================================
// == HELPERS
// ==================================================================

/*
  Include helpers here.

  A helper (function) is a small unit of functionality that is independent
  of a business feature.
*/

// (!!!) DO NOT REMOVE OR CHANGE THE FOLLOWING LINES! (!!!)